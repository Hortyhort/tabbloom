<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="sidepanel.css">
  <style>
    .plant {
      position: absolute;
      transition:
        transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        filter 0.3s ease;
      cursor: pointer;
      image-rendering: pixelated;
      will-change: transform, filter;
      transform-origin: center bottom;
    }

    .plant:hover {
      transform: scale(1.4) rotate(5deg) translateY(-12px);
      filter:
        drop-shadow(0 0 25px rgba(255, 220, 150, 0.8))
        drop-shadow(0 0 15px rgba(255, 183, 197, 0.6))
        brightness(1.15);
      z-index: 100;
      animation: magicalPulse 1.5s infinite ease-in-out;
    }

    @keyframes magicalPulse {
      0% {
        filter:
          drop-shadow(0 0 15px rgba(255, 220, 150, 0.5))
          drop-shadow(0 0 10px rgba(255, 183, 197, 0.4))
          brightness(1.1);
      }
      50% {
        filter:
          drop-shadow(0 0 35px rgba(255, 220, 150, 0.9))
          drop-shadow(0 0 25px rgba(255, 183, 197, 0.8))
          brightness(1.2);
      }
      100% {
        filter:
          drop-shadow(0 0 15px rgba(255, 220, 150, 0.5))
          drop-shadow(0 0 10px rgba(255, 183, 197, 0.4))
          brightness(1.1);
      }
    }

    /* Organic breathing idle sway for all plants */
    .plant {
      animation: idleSway 8s ease-in-out infinite;
      animation-delay: var(--sway-delay, 0s);
    }

    @keyframes idleSway {
      0%, 100% { transform: translateX(0) translateY(0) rotate(0deg); }
      50%      { transform: translateX(3px) translateY(-2px) rotate(1deg); }
    }

    .plant:hover {
      animation: magicalPulse 1.5s infinite ease-in-out;
    }
  </style>
</head>
<body>
  <div class="garden-container">
    <header class="garden-header">
      <div class="header-main">
        <h1 id="gardenName">My Digital Sanctuary</h1>
        <div class="stats-pills">
          <span class="pill coins">‚ú® 120</span>
          <span class="pill season">Spring</span>
          <button id="shareBtn" class="pill share-btn" title="Share your garden">üì∏</button>
        </div>
      </div>
    </header>

    <div id="garden-container" style="flex: 1; position: relative; overflow: hidden;">
      <canvas id="garden-canvas"></canvas>
      <div id="tooltip" class="glass-tooltip hidden"></div>
    </div>

    <footer class="garden-footer">
      <button id="harvestAll" class="harvest-btn">Harvest Dormant Tabs</button>
      <p class="stats-text">47 tabs bloomed this week</p>
    </footer>
  </div>

  <!-- Onboarding Overlay -->
  <div id="onboarding" class="onboarding-overlay hidden">
    <div class="onboarding-card">
      <div class="onboarding-icon">üå±</div>
      <h2>Welcome to TabBloom!</h2>
      <p>Your browser tabs are now seeds in a digital garden.</p>
      <ul class="onboarding-tips">
        <li><span>üå∏</span> Active tabs bloom beautifully</li>
        <li><span>üçÇ</span> Neglected tabs slowly wilt</li>
        <li><span>‚ú®</span> Harvest wilted tabs to earn coins</li>
        <li><span>üì∏</span> Share your garden with friends</li>
      </ul>
      <button id="onboardingClose" class="onboarding-btn">Start Growing</button>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="garden.js"></script>
</body>
</html>
